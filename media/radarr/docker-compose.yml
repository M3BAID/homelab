services:
    radarr:
      image: linuxserver/radarr
      networks:
      - media
      container_name: radarr
      environment:
      - PUID=$PUID
      - PGID=env
      - TZ=$TZ
      volumes:
      - $path/radarr:/config
      - media:/media
      ports:
      - 7878:7878
      restart: unless-stopped

    radarr-public:
      image: linuxserver/radarr:latest
      networks:
      - media
      container_name: radarr-public
      environment:
      - PUID=$PUID
      - PGID=env
      - TZ=$TZ
      volumes:
      - $path/radarr-public:/config
      - public:/public
      ports:
      - 7070:7878
      restart: unless-stopped
      
networks:
  media:

#For nfs share  
volumes:
  media:
    driver_opts:
      type: "nfs"
      o: "addr=ip,nolock,rw,soft,nfsvers=4"
      device: ":nfs-path/media"
  public:
    driver_opts:
      type: "nfs"
      o: "addr=ip,nolock,rw,soft,nfsvers=4"
      device: ":nfs-path/public"